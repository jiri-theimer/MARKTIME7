@model UI.Models.Tab1.o43Tab1
@inject BL.Factory _f

@{

    Layout = "~/Views/Shared/_LayoutSubform.cshtml";
    if (Model.Rec == null) return;


    List<string> _attachmens = BO.Code.Bas.ConvertString2List(Model.Rec.o43Attachments);

    
}

@addTagHelper *, UI

@Html.Raw("<div class='info_record_container'>")

<div class="card recpageboxauto" style="max-height:400px;">
    <div class="card-body">
        @Html.EditorFor(m => m.Rec, "~/Views/Shared/_o43RecHeaderBox.cshtml")


        @Html.EditorFor(m => m.Rec, "~/Views/Shared/_TimeStamp.cshtml")
    </div>
</div>


@if (Model.Rec.o43AttachmentsCount > 0)
{
    <div class="card recpageboxauto">
        <div class="card-body">
            <span class="material-icons-outlined">attachment</span>
            <strong>@(Model.Rec.o43AttachmentsCount)x</strong>
            <table class="table table-hover">
                @foreach (string strFile in _attachmens)
                {
                    <tr>
                        <td>
                            <a target="_blank" href="/o43/DownloadAsFile?pid=@Model.Rec.pid&format=@(strFile)">
                                @strFile
                            </a>
                            
                        </td>

                    </tr>
                }
            </table>

        </div>
    </div>
}

@if (Model.Rec.o43BodyHtml != null)
{
    <div class="recpageboxauto" style="max-height:300px;max-width:600px;">
        @Html.Raw(Model.Rec.o43BodyHtml)
    </div>
}

@if (Model.Rec.o43BodyText != null)
{
    <div class="recpageboxauto">
        <textarea style="overflow:auto;height:300px;width:500px;">
            @Html.Raw(Model.Rec.o43BodyText)
        </textarea>
    </div>

}

<div style="clear:both;"></div>


@Html.Raw("</div>")

