@model DynamicMenuViewModel
@inject BL.Factory _f

@{
    Layout = null;


    string _strLayout = _f.CBL.LoadUserParam($"recpage-{Model.Prefix}-leftpanel", "menu");
    
    bool _IsGrid = true;

}

@addTagHelper *, UI


<div id="divMenuContainerRecPageExt" class="dynamicmenu_container" style="min-width:400px;">


    <div>
        
        @if (BL.Code.UserUI.GetLeftPanelValue(Model.Prefix) > 0)
        {
            @Html.EditorFor(m => Model, "~/Views/Shared/_GridExport.cshtml")
            
            @Html.EditorFor(m => Model,"~/Views/Shared/_GridLayoutSwitch.cshtml")

            <div>
                <myshowmore isvertical="true" label="@_f.tra("Další nastavení")"></myshowmore>
            </div>

            <div class="showmore">
                <div style="width:100%;background-color:#F5F5F5;border-radius:4px;margin-top:20px;">
                    <h5 style="padding:10px;">
                        @_f.tra("Vzhled tabulky")
                    </h5>

                </div>

                <div style="margin-left:10px;">
                    @Html.EditorFor(m => _IsGrid, "~/Views/Shared/_TableLayoutDeisgner.cshtml")
                </div>
            </div>
            
        }

        
    </div>

</div>


<script type="text/javascript">

    

    var url = window.location.pathname + window.location.search;



    

    function save_page_setting(key, val) {
        var prefix="@Model.Prefix";

        $.post("/Common/SetUserParam", { key: key, value: val }, function (data) {
            _redirect("/Record/RecPage?prefix=" + prefix);
        });
    }



</script>