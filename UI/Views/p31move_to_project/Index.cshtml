@model UI.Models.p31oper.p31MoveToProjectViewModel
@inject BL.Factory _f

@{
    Layout = "~/Views/Shared/_LayoutModal.cshtml";
    Model.PageTitle = _f.tra("Přesunout rozpracované úkony na jiný projekt");
    Model.PageSymbol = "content_cut";

}

@addTagHelper *, UI


<div class="bg-light" style="padding:10px;">
    <button id="cmdSave" class="btn btn-success" onclick="_submit()">@_f.tra("Uložit změny")</button>
    <button id="cmdClose" onclick="_window_close()" class="btn btn-light">@_f.tra("Zavřít")</button>
</div>


<form id="form1" asp-controller="p31move_to_project" asp-action="Index" method="POST">

    <input type="hidden" asp-for="@Model.pids" />
    <input type="hidden" asp-for="@Model.pids_valid" value="@Model.pids_valid" />
    <div style="max-width:800px;">
        @Html.EditorFor(m => m.ProjectCombo, "~/Views/Shared/_ProjectCombo.cshtml")

        
    </div>

    <div>
        <div>
            <input type="checkbox" asp-for="IsChangeP32ID" onchange="_postback()" />
            <label class="col-form-label" for="IsChangeP32ID">@_f.tra("Změnit úkonům aktivitu")</label>
        </div>
        @if (Model.IsChangeP32ID)
        {
            <div class="row my-2" style="max-width:700px;">
                <label class="col-auto col-form-label">@_f.tra("Aktivita"):</label>
                <div class="col-auto" style="width:600px;">
                    <mycombo entity="p32Activity" asp-for="DestP32ID" selectedtext="@Model.DestP32Name" myqueryinline="p33id|int|1"></mycombo>
                </div>
            </div>
        }
        


    </div>
    

</form>

@await Component.InvokeAsync("myGrid", Model.gridinput)


<script type="text/javascript">
    $(document).ready(function () {






    })

    function p41id_change(p41id) {
        _postback("p41id");

    }
    function levelindex_change() {
        _postback("levelindex");
    }

</script>
