@model UI.Models.Record.p28PageBoxViewModel
@inject BL.Factory _f
@{
    if (Model == null)
    {
        return;
    }


    var _tab1 = new UI.Models.Tab1.BaseTab1ViewModel() { prefix = "p28", pid = Model.rec_pid };

    

    BO.TaggingHelper _tg = null;
    if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.RecTags)
    {
        _tg = _f.o51TagBL.GetTagging("p28", Model.rec_pid);
    }



}

@addTagHelper *, UI


@if (Model.RecA58.a58HtmlText != null)
{
    @Html.Raw(Model.MergeStaticHtmlText(_f,Model.RecA58.a58HtmlText,Model.rec_pid))
}



@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.RecHeaderBox)
{
    @Html.EditorFor(m => m.Rec, "~/Views/Shared/_p28RecHeaderBox.cshtml")
}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.p28RecBillingBox)
{
    @Html.EditorFor(m => m.Rec, "~/Views/Shared/_p28RecBillingBox.cshtml")
}


@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.o32List)
{
    @await Html.PartialAsync("~/Views/Shared/_lisO32.cshtml",_f.p28ContactBL.GetList_o32(Model.rec_pid,0,0))
}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.p41List)
{
    @await Html.PartialAsync("~/Views/Shared/_lisP41.cshtml",_f.p41ProjectBL.GetList(new BO.myQueryP41("p41"){IsRecordValid=true, p28id = Model.rec_pid}))
}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.p30List)
{
    @await Html.PartialAsync("~/Views/Shared/_lisP30.cshtml",_f.p28ContactBL.GetList_p30(Model.rec_pid))

}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.RolesAssigned)
{
    @await Html.PartialAsync("~/Views/Shared/_RoleAssignRO.cshtml",_tab1)
}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.RecTags)
{
    @Html.Raw(_tg.TagHtml)

}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.p28Address1)
{
    @Html.EditorFor(m => m.Rec, "~/Views/Shared/_p28Address1.cshtml")    
    
}

@if(Model.RecA58.a58ContentFlag==BO.a58ContentFlagEnum.p28ActivityStat)
{
    @await Html.PartialAsync("~/Views/Shared/_TabStat.cshtml",_tab1)
}

@if (Model.RecA58.a58ContentFlag == BO.a58ContentFlagEnum.o27List)
{
    @await Html.PartialAsync("~/Views/Shared/_lisO27.cshtml",_tab1)

}

